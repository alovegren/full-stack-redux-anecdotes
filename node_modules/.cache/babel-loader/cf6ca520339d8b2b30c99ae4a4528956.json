{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst anecdotesAtStart = [];\n\nconst getId = () => (100000 * Math.random()).toFixed(0);\n\nconst asObject = anecdote => {\n  return {\n    content: anecdote,\n    id: getId(),\n    votes: 0\n  };\n};\n\nconst orderAnecdotes = anecdotes => anecdotes.sort((anecdoteA, anecdoteB) => anecdoteB.votes - anecdoteA.votes);\n\nconst initialState = orderAnecdotes(anecdotesAtStart.map(asObject));\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState,\n  reducers: {\n    newAnecdote(state, action) {\n      return orderAnecdotes([...state, asObject(action.payload)]);\n    },\n\n    addVote(state, action) {\n      const id = action.payload;\n      const anecdoteToChange = state.find(anecdote => anecdote.id === id);\n      const changedAnecdote = { ...anecdoteToChange,\n        votes: anecdoteToChange.votes + 1\n      };\n      return orderAnecdotes(state.map(anecdote => anecdote.id === id ? changedAnecdote : anecdote));\n    }\n\n  }\n});\nexport const {\n  newAnecdote,\n  addVote\n} = anecdoteSlice.actions;\nexport default anecdoteSlice.reducer;","map":{"version":3,"sources":["/home/missy/full_stack_open_course/part6/anecdotes/src/reducers/anecdoteReducer.js"],"names":["createSlice","anecdotesAtStart","getId","Math","random","toFixed","asObject","anecdote","content","id","votes","orderAnecdotes","anecdotes","sort","anecdoteA","anecdoteB","initialState","map","anecdoteSlice","name","reducers","newAnecdote","state","action","payload","addVote","anecdoteToChange","find","changedAnecdote","actions","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,gBAAgB,GAAG,EAAzB;;AAEA,MAAMC,KAAK,GAAG,MAAM,CAAC,SAASC,IAAI,CAACC,MAAL,EAAV,EAAyBC,OAAzB,CAAiC,CAAjC,CAApB;;AAEA,MAAMC,QAAQ,GAAIC,QAAD,IAAc;AAC7B,SAAO;AACLC,IAAAA,OAAO,EAAED,QADJ;AAELE,IAAAA,EAAE,EAAEP,KAAK,EAFJ;AAGLQ,IAAAA,KAAK,EAAE;AAHF,GAAP;AAKD,CAND;;AAQA,MAAMC,cAAc,GAAGC,SAAS,IAC9BA,SAAS,CAACC,IAAV,CAAe,CAACC,SAAD,EAAYC,SAAZ,KACbA,SAAS,CAACL,KAAV,GAAkBI,SAAS,CAACJ,KAD9B,CADF;;AAMA,MAAMM,YAAY,GAAGL,cAAc,CAACV,gBAAgB,CAACgB,GAAjB,CAAqBX,QAArB,CAAD,CAAnC;AAEA,MAAMY,aAAa,GAAGlB,WAAW,CAAC;AAChCmB,EAAAA,IAAI,EAAE,WAD0B;AAEhCH,EAAAA,YAFgC;AAGhCI,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAgB;AACzB,aAAOZ,cAAc,CAAC,CAAC,GAAGW,KAAJ,EAAWhB,QAAQ,CAACiB,MAAM,CAACC,OAAR,CAAnB,CAAD,CAArB;AACD,KAHO;;AAKRC,IAAAA,OAAO,CAACH,KAAD,EAAQC,MAAR,EAAgB;AACrB,YAAMd,EAAE,GAAGc,MAAM,CAACC,OAAlB;AAEA,YAAME,gBAAgB,GAAGJ,KAAK,CAACK,IAAN,CAAWpB,QAAQ,IAAIA,QAAQ,CAACE,EAAT,KAAgBA,EAAvC,CAAzB;AAEA,YAAMmB,eAAe,GAAG,EACtB,GAAGF,gBADmB;AAEtBhB,QAAAA,KAAK,EAAEgB,gBAAgB,CAAChB,KAAjB,GAAyB;AAFV,OAAxB;AAKA,aAAOC,cAAc,CAACW,KAAK,CAACL,GAAN,CAAUV,QAAQ,IACtCA,QAAQ,CAACE,EAAT,KAAgBA,EAAhB,GAAqBmB,eAArB,GAAuCrB,QADnB,CAAD,CAArB;AAGD;;AAlBO;AAHsB,CAAD,CAAjC;AAyBA,OAAO,MAAM;AAAEc,EAAAA,WAAF;AAAeI,EAAAA;AAAf,IAA2BP,aAAa,CAACW,OAA/C;AACP,eAAeX,aAAa,CAACY,OAA7B","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst anecdotesAtStart = [];\n\nconst getId = () => (100000 * Math.random()).toFixed(0)\n\nconst asObject = (anecdote) => {\n  return {\n    content: anecdote,\n    id: getId(),\n    votes: 0\n  }\n}\n\nconst orderAnecdotes = anecdotes => (\n  anecdotes.sort((anecdoteA, anecdoteB) => (\n    anecdoteB.votes - anecdoteA.votes\n  ))\n);\n\nconst initialState = orderAnecdotes(anecdotesAtStart.map(asObject));\n\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState,\n  reducers: {\n    newAnecdote(state, action) {\n      return orderAnecdotes([...state, asObject(action.payload)]);\n    },\n\n    addVote(state, action) {\n      const id = action.payload;\n\n      const anecdoteToChange = state.find(anecdote => anecdote.id === id);\n\n      const changedAnecdote = {\n        ...anecdoteToChange,\n        votes: anecdoteToChange.votes + 1\n      }\n\n      return orderAnecdotes(state.map(anecdote => \n        anecdote.id === id ? changedAnecdote : anecdote\n      ));\n    },\n  },\n})\n\nexport const { newAnecdote, addVote } = anecdoteSlice.actions;\nexport default anecdoteSlice.reducer;"]},"metadata":{},"sourceType":"module"}