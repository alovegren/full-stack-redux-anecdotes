{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  message: '',\n  timeoutId: null\n};\nconst notificationSlice = createSlice({\n  name: 'notification',\n  initialState,\n  reducers: {\n    displayNotification(_state, action) {\n      console.log(state);\n      return action.payload;\n    }\n\n  }\n});\nexport const {\n  displayNotification\n} = notificationSlice.actions;\nexport const setNotification = (message, durationInSeconds) => {\n  return async dispatch => {\n    const timeoutId = setTimeout(() => {\n      dispatch(displayNotification(''));\n    }, durationInSeconds * 1000);\n    dispatch(displayNotification({\n      message,\n      timeoutId\n    }));\n  }; // setTimeout returns an integer that can be passed to clearTimeout to cancel the timer\n  // the problem is that, when there are multiple changes to the notification state, previous calls to setTimeout will clear subsequent calls that display a new notification.\n  // so each call to `setNotification` should clear the timeout set by the last call to setNotification... in order to have access to the id that would make that possible, that ID needs to be part of the application state like so:\n\n  /*\n  {\n    \"anecdotes\": [],\n    \"notification\": {\n      message: \"hey der\",\n      timeoutId: \"213416\",\n    }\n    \"filter\": \"\"\n  }\n  */\n};\nexport default notificationSlice.reducer;","map":{"version":3,"sources":["/home/missy/full_stack_open_course/part6/anecdotes/src/reducers/notificationReducer.js"],"names":["createSlice","initialState","message","timeoutId","notificationSlice","name","reducers","displayNotification","_state","action","console","log","state","payload","actions","setNotification","durationInSeconds","dispatch","setTimeout","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,YAAY,GAAG;AAAEC,EAAAA,OAAO,EAAE,EAAX;AAAeC,EAAAA,SAAS,EAAE;AAA1B,CAArB;AAEA,MAAMC,iBAAiB,GAAGJ,WAAW,CAAC;AACpCK,EAAAA,IAAI,EAAE,cAD8B;AAEpCJ,EAAAA,YAFoC;AAGpCK,EAAAA,QAAQ,EAAE;AACRC,IAAAA,mBAAmB,CAACC,MAAD,EAASC,MAAT,EAAiB;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,aAAOH,MAAM,CAACI,OAAd;AACD;;AAJO;AAH0B,CAAD,CAArC;AAWA,OAAO,MAAM;AAAEN,EAAAA;AAAF,IAA0BH,iBAAiB,CAACU,OAAlD;AAEP,OAAO,MAAMC,eAAe,GAAG,CAACb,OAAD,EAAUc,iBAAV,KAAgC;AAC7D,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMd,SAAS,GAAGe,UAAU,CAAC,MAAM;AACjCD,MAAAA,QAAQ,CAACV,mBAAmB,CAAC,EAAD,CAApB,CAAR;AACD,KAF2B,EAExBS,iBAAiB,GAAG,IAFI,CAA5B;AAGAC,IAAAA,QAAQ,CAACV,mBAAmB,CAAC;AAAEL,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAD,CAApB,CAAR;AACD,GALD,CAD6D,CAQ7D;AACA;AAEA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,CAvBM;AAyBP,eAAeC,iBAAiB,CAACe,OAAjC","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = { message: '', timeoutId: null };\n\nconst notificationSlice = createSlice({\n  name: 'notification',\n  initialState,\n  reducers: {\n    displayNotification(_state, action) {\n      console.log(state);\n      return action.payload;\n    },\n  },\n});\n\nexport const { displayNotification } = notificationSlice.actions;\n\nexport const setNotification = (message, durationInSeconds) => {\n  return async dispatch => {\n    const timeoutId = setTimeout(() => {\n      dispatch(displayNotification(''));\n    }, (durationInSeconds * 1000));\n    dispatch(displayNotification({ message, timeoutId }));\n  }\n\n  // setTimeout returns an integer that can be passed to clearTimeout to cancel the timer\n  // the problem is that, when there are multiple changes to the notification state, previous calls to setTimeout will clear subsequent calls that display a new notification.\n\n  // so each call to `setNotification` should clear the timeout set by the last call to setNotification... in order to have access to the id that would make that possible, that ID needs to be part of the application state like so:\n\n  /*\n  {\n    \"anecdotes\": [],\n    \"notification\": {\n      message: \"hey der\",\n      timeoutId: \"213416\",\n    }\n    \"filter\": \"\"\n  }\n  */\n}\n\nexport default notificationSlice.reducer;"]},"metadata":{},"sourceType":"module"}